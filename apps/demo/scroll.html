<html>
<head>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script>
  </script>
  <script>
  var latestKnownScrollY = 0, ticking = false;

  function update() {
  	ticking = false;
  	var currentScrollY = latestKnownScrollY;
  
    var f = document.getElementById("example");
    f.style.width= (100+currentScrollY).toString()+'px';
    var g = document.getElementById("demo");
    g.innerHTML = currentScrollY;
  }
  
  function foo() {
    latestKnownScrollY = window.pageYOffset;
    console.log(latestKnownScrollY);
    requestTick();
  }

  function bar() {
    console.log("bar triggered");
    requestTick();
  }
  
  function requestTick() {
  	if(!ticking) {
  		requestAnimationFrame(update);
  	}
  	ticking = true;
  }
  </script>
  <style>
  body{
    height: 2000px;
  }
  div#example {
    width: 100px;
    height: 100px;
    background: red;
    position: fixed;
    top: 5em;
  }
  body {
    onscroll-type: continuous;
  }
  </style>
</head>
<body onscroll="foo()">
  <p>Scroll on the page to see the expansion animation.</p>

  <div id="example"></div>
  <p>Scrolled <span id="demo">0</span> px.</p>
</body>
</html>

